// Generated by CoffeeScript 1.7.1
(function() {
  var Milk, assert, suite, vows;

  vows = require('vows');

  assert = require('assert');

  Milk = require('milk');

  suite = vows.describe('Milk.escape');

  suite.addBatch({
    "The exported #escape method": {
      topic: function() {
        return Milk.escape;
      },
      'should perform basic HTML escaping': function(esc) {
        assert.equal(esc('Interpolated &entity;'), 'Interpolated &amp;entity;');
        return assert.equal(esc('<img src="x" />'), '&lt;img src=&quot;x&quot; /&gt;');
      }
    }
  });

  suite.addBatch({
    "Replacing the #escape method": {
      topic: function() {
        this.escape = Milk.escape;
        Milk.escape = function(str) {
          return str.split('').reverse().join('');
        };
        return function() {
          return Milk.render.apply(Milk, arguments);
        };
      },
      teardown: function() {
        return Milk.escape = this.escape;
      },
      'uses the new #escape method for HTML escaping': function(render) {
        var data, tmpl;
        tmpl = '{{{x}}} {{x}} {{&x}}';
        data = {
          x: 'content'
        };
        return assert.equal(render(tmpl, data), 'content tnetnoc content');
      }
    }
  });

  suite["export"](module);

}).call(this);

//# sourceMappingURL=escape_method.map
