!function(e){e.fn.dropdown=function(){function s(){e(this).hasClass("open")?e(this).children("li").filter(function(){return!e(this).hasClass("selected")}).hide():e(this).children("li").filter(function(){return!e(this).hasClass("selected")}).show(),e(this).toggleClass("open")}var t=e(this),n=null,l=null,o=null,i=null;if(!t.is("select"))throw new Error("Dropdown works on <select> elements only");for(t.hide(),n=e("<div>").addClass("dropdown-list-container"),l=e("<ul>").addClass("dropdown-list-options"),o=t.children("option").first();o.length>0;)i=e("<li>").addClass("dropdown-list-option").attr("data-value",o.val()-1).text(o.text()).hide(),o.is(":selected")&&i.show().addClass("selected"),i.appendTo(l),o=o.next();return l.css("display","inline-block").css("border","1px solid black").css("cursor","pointer").appendTo(n),n.appendTo(e(this).parent()),l.on("click blur",s),l.on("click",".dropdown-list-option",function(){l.hasClass("open")&&(e(this).parent().children("li").removeClass("selected"),e(this).addClass("selected"),t.find("option:selected").attr("selected",""),t.find("option[value="+(e(this).data("value")+1)+"]").attr("selected","selected"))}),t}}(jQuery),jQuery(document).ready(function(e){"use strict";e(this).find("#dropdown").dropdown()});